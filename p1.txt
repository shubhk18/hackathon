#!/bin/bash

# Check if the file is provided
if [ "$#" -ne 1 ]; then
    echo "Usage: $0 <xml_file>"
    exit 1
fi

# Get the file name
XML_FILE=$1

# Check if the file exists
if [ ! -f "$XML_FILE" ]; then
    echo "Error: File '$XML_FILE' not found!"
    exit 1
fi

# Extract the content inside <tag1> using xmllint
TAG1_CONTENT=$(xmllint --xpath '//tag1/text()' "$XML_FILE" 2>/dev/null)

# Check if xmllint was successful
if [ $? -ne 0 ]; then
    echo "Error: Failed to extract <tag1> content. Is the XML well-formed?"
    exit 1
fi

# Print the extracted content
echo "$TAG1_CONTENT"